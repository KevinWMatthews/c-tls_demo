# OpenSSL configuration file for root CA.


### openssl req configuration
[ req ]
distinguished_name      = req_distinguished_name
string_mask             = utf8only
default_md              = sha256
prompt                  = no
x509_extensions         = x509_extensions       # Should be overridden for each cert or csr

[ req_distinguished_name ]
countryName             = "US"
stateOrProvinceName     = "California"
localityName            = "Monterey"
organizationName        = "CyberData Test Corporation"
organizationalUnitName  = "CyberData Certificate Authority"
commonName              = "CyberData Root CA"


### openssl ca configuration
[ ca ]
default_ca              = CA_default

[ CA_default ]
dir                     = ./root_ca
new_certs_dir           = $(dir)/new_certs
database                = $(dir)/index.txt
serial                  = $(dir)/serial.txt
private_key             = $(dir)/root_ca.key.pem
certificate             = $(dir)/root_ca.crt.pem
default_md              = sha256
name_opt                = ca_default
cert_opt                = ca_default
default_days            = 1000
preserve                = no
policy                  = policy_strict

[ policy_strict ]
# See the POLICY FORMAT section of `man ca`.
countryName             = match
stateOrProvinceName     = match
organizationName        = match
organizationalUnitName  = optional
commonName              = supplied
emailAddress            = optional


### x509 extensions
# Default x509 extensions
# See `man x509v3_config`

[ x509_extensions ]
# Nothing - force the user to specify what they are signing

[ v3_root_ca ]
subjectKeyIdentifier    = hash
authorityKeyIdentifier  = keyid:always,issuer
basicConstraints        = critical, CA:true
keyUsage                = critical, digitalSignature, keyCertSign

[ v3_intermediate_ca ]
subjectKeyIdentifier    = hash
authorityKeyIdentifier  = keyid:always,issuer
basicConstraints        = critical, CA:true, pathlen:0
keyUsage                = critical, digitalSignature, keyCertSign
